<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>APA 7th Reference Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Stylesheet -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <main class="page">
    <header class="header">
  <div class="header-top">
    <div class="badge">
      <span class="badge-dot"></span>
      APA 7th â€¢ Reference Generator
    </div>

    <!-- Theme toggle -->
    <button
      class="theme-toggle"
      id="theme-toggle"
      type="button"
      aria-label="Toggle light/dark theme"
    >
      <span class="theme-toggle-track">
        <span class="theme-toggle-thumb"></span>
        <span class="theme-toggle-icon theme-toggle-icon--moon">ğŸŒ™</span>
        <span class="theme-toggle-icon theme-toggle-icon--sun">â˜€ï¸</span>
      </span>
    </button>
  </div>

  <h1>
    Smart <span class="highlight">APA References</span> for your papers
  </h1>

  <p class="subtitle">
    Generate APA 7 references manually or fetch fully authenticated data using 
    Semantic Scholar + Crossref via your Cloudflare Worker.
  </p>
</header>

    <section class="grid">
<!-- Left: Manual APA generator -->
<section class="card">
  <div class="card-inner">
    <div class="card-header">
      <div>
        <div class="card-title">
          Manual APA Reference Builder
          <span class="card-title-pill">Works Cited</span>
        </div>
        <p class="card-description">
          Choose a content type from the APA quick guide, see a sample, and fill in only the fields required for that type.
        </p>
      </div>
      <div class="pill">APA 7th â€¢ Hanging Indent</div>
    </div>

    <!-- Content type selector -->
    <div class="field-full">
      <label for="source-type">Content type (from APA quick guide)</label>
      <select id="source-type" class="input">
        <!-- BOOKS -->
        <option value="book-single">Book â€“ single author</option>
        <option value="book-2-authors">Book â€“ 2 authors</option>
        <option value="book-multi">Book â€“ multiple authors</option>
        <option value="book-corporate">Book â€“ corporate / publisher as author (with DOI)</option>
        <option value="book-ebook-url">Book â€“ ebook / audiobook with non-database URL</option>
        <option value="book-edition-later">Book â€“ 2nd or later edition</option>
        <option value="book-edition-revised">Book â€“ revised edition</option>
        <option value="book-edited">Edited book (no author)</option>
        <option value="book-translation">Book â€“ translation</option>
        <option value="book-intro-preface">Book â€“ foreword / introduction / preface / afterword</option>
        <option value="book-multivol-all">Multivolume work â€“ all volumes</option>
        <option value="book-multivol-one">Multivolume work â€“ one volume</option>
        <option value="book-anthology-work">Work in an anthology</option>
        <option value="encyclopedia-signed">Encyclopedia entry â€“ signed (print)</option>
        <option value="encyclopedia-unsigned">Encyclopedia entry â€“ unsigned (print)</option>

        <!-- PERIODICALS -->
        <option value="journal-with-doi">Journal article â€“ with DOI</option>
        <option value="journal-without-doi">Journal article â€“ without DOI</option>
        <option value="journal-no-issue">Journal article â€“ no issue number</option>
        <option value="journal-21plus">Journal article â€“ 21 or more authors</option>
        <option value="newspaper-database">Newspaper article â€“ from database</option>
        <option value="newspaper-web">Newspaper article â€“ from web</option>
        <option value="magazine-database">Magazine article â€“ from database</option>
        <option value="magazine-web">Magazine article â€“ from web</option>
        <option value="editorial">Editorial (journal)</option>

        <!-- DISSERTATIONS -->
        <option value="thesis-database">Thesis / dissertation â€“ from database</option>
        <option value="thesis-unpublished">Thesis / dissertation â€“ unpublished</option>
        <option value="thesis-online">Thesis / dissertation â€“ published online (not in database)</option>

        <!-- MEETINGS & REPORTS -->
        <option value="meeting-unpublished-paper">Conference / meeting paper â€“ unpublished</option>
        <option value="annual-report">Annual report</option>
        <option value="company-profile">Company profile</option>

        <!-- ELECTRONIC / MEDIA -->
        <option value="music-album">Music album</option>
        <option value="music-classical">Music album â€“ classical work</option>
        <option value="encyclopedia-online">Encyclopedia entry â€“ online</option>
        <option value="eric-document">ERIC document (ED, non-journal)</option>
        <option value="blog-post">Blog post</option>
        <option value="facebook-post">Facebook post</option>
        <option value="video-youtube">Video â€“ YouTube / streaming</option>
        <option value="video-ted-site">TED Talk â€“ viewed on ted.com</option>
        <option value="video-ted-youtube">TED Talk â€“ viewed on YouTube</option>

        <!-- WEBPAGE -->
        <option value="webpage">Webpage on a website</option>

        <!-- FALLBACK -->
        <option value="generic">Generic / custom (manual)</option>
      </select>
    </div>

    <!-- Example from the APA quick guide -->
    <div id="type-example" class="type-example">
      <!-- JS fills this based on type -->
    </div>

    <!-- AUTHORS -->
    <div class="field-full field-group" data-field="authors">
      <label for="authors-input">Author(s)</label>
      <input id="authors-input" class="input" type="text" />
    </div>

    <!-- YEAR -->
    <div class="field-full field-group" data-field="year">
      <label for="year-input">Year / date</label>
      <input id="year-input" class="input" type="text" />
    </div>

    <!-- TITLE -->
    <div class="field-full field-group" data-field="title">
      <label for="title-input">Title of work</label>
      <input id="title-input" class="input" type="text" />
    </div>

    <!-- CONTAINER (journal / book / site) -->
    <div class="field-full field-group" data-field="container">
      <label for="container-input">Source (journal, book, website, etc.)</label>
      <input id="container-input" class="input" type="text" />
    </div>

    <!-- VOLUME + ISSUE -->
    <div class="input-row">
      <div class="field field-group" data-field="volume">
        <label for="volume-input">Volume</label>
        <input id="volume-input" class="input" type="text" />
      </div>
      <div class="field field-group" data-field="issue">
        <label for="issue-input">Issue</label>
        <input id="issue-input" class="input" type="text" />
      </div>
    </div>

    <!-- PAGES + PUBLISHER -->
    <div class="input-row">
      <div class="field field-group" data-field="pages">
        <label for="pages-input">Page range</label>
        <input id="pages-input" class="input" type="text" />
      </div>
      <div class="field field-group" data-field="publisher">
        <label for="publisher-input">Publisher / institution</label>
        <input id="publisher-input" class="input" type="text" />
      </div>
    </div>

    <!-- DOI / URL / ID -->
    <div class="field-full field-group" data-field="doi">
      <label for="doi-input">DOI / URL / ID</label>
      <input id="doi-input" class="input" type="text" />
    </div>

    <div class="btn-row">
      <button class="btn" id="generate-btn">âœ¨ Generate reference</button>
      <button class="btn secondary" id="copy-btn" disabled>ğŸ“‹ Copy</button>
    </div>

    <div id="manual-error" class="error" style="display:none;"></div>

    <div style="margin-top:0.8rem;">
      <div class="citation-label">Generated APA 7th reference</div>
      <div id="manual-citation" class="citation-output empty">
        Your formatted reference will appear here.
      </div>
    </div>
  </div>
</section>


      <!-- Semantic Scholar + Crossref -->
      <section class="card">
        <div class="card-inner">
          <div class="card-header">
            <div>
              <div class="card-title">
                Semantic Scholar + Crossref
                <span class="card-title-pill">DOI â€¢ API</span>
              </div>
            </div>
            <div class="pill">Worker Powered</div>
          </div>

          <div class="field-full">
            <label>Search or Paste DOI</label>
            <input id="s2-query" class="input" placeholder="10.1016/S0140-6736(15)00257-3" />
          </div>

          <div class="btn-row">
            <button id="s2-search-btn" class="btn">ğŸ” Search</button>
            <span id="s2-status" class="hint"></span>
          </div>

          <div id="s2-error" class="error" style="display:none;"></div>

          <div id="s2-results" class="results"></div>

          <div class="citation-label">Semantic Scholar + Crossref Reference</div>
          <div id="s2-citation" class="citation-output empty">
            No reference generated yet.
          </div>

          <button id="s2-copy-btn" class="btn secondary" disabled>ğŸ“‹ Copy</button>
        </div>
      </section>
    </section>
  </main>

  <!-- JS App -->
  <script src="app.js"></script>
</body>
</html>
