<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>APA 7th Reference Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Stylesheet -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <main class="page">
    <header class="header">
      <div class="badge">
        <span class="badge-dot"></span>
        APA 7th â€¢ Reference Generator
      </div>

      <h1>
        Smart <span class="highlight">APA References</span> for your papers
      </h1>

      <p class="subtitle">
        Generate APA 7 references manually or fetch fully authenticated data using 
        Semantic Scholar + Crossref via your Cloudflare Worker.
      </p>
    </header>

    <section class="grid">
<!-- Left: Manual APA generator -->
<section class="card">
  <div class="card-inner">
    <div class="card-header">
      <div>
        <div class="card-title">
          Manual APA Reference Builder
          <span class="card-title-pill">Works Cited</span>
        </div>
        <p class="card-description">
          Choose a content type, see an official-style example from the guide,
          then fill in only the fields that matter for that source.
        </p>
      </div>
      <div class="pill">APA 7th â€¢ Hanging Indent</div>
    </div>

    <!-- Content type selector -->
    <div class="field-full">
      <label for="source-type">Content type</label>
      <select id="source-type" class="input">
        <!-- BOOKS -->
        <option value="book-single">Book (single author)</option>
        <option value="book-multi">Book (multiple / corporate author)</option>
        <option value="edited-book">Edited book</option>
        <option value="chapter-edited-book">Chapter in edited book / anthology</option>

        <!-- PERIODICALS -->
        <option value="journal-doi">Journal article (with DOI)</option>
        <option value="journal-no-doi">Journal article (no DOI)</option>
        <option value="magazine-web">Magazine article (web)</option>

        <!-- REFERENCE WORKS -->
        <option value="encyclopedia-signed">Encyclopedia entry (signed)</option>
        <option value="encyclopedia-unsigned">Encyclopedia entry (unsigned)</option>

        <!-- OTHER -->
        <option value="thesis">Thesis / dissertation</option>
        <option value="webpage">Webpage on a website</option>
        <option value="generic">Generic / custom</option>
      </select>
    </div>

    <!-- Example from the APA quick guide -->
    <div id="type-example" class="type-example">
      <!-- Filled by JS based on content type -->
    </div>

    <!-- AUTHORS -->
    <div class="field-full field-group" data-field="authors">
      <label for="authors-input">Author(s)</label>
      <input
        id="authors-input"
        class="input"
        type="text"
        placeholder=""
      />
    </div>

    <!-- YEAR -->
    <div class="field-full field-group" data-field="year">
      <label for="year-input">Year</label>
      <input
        id="year-input"
        class="input"
        type="text"
        placeholder=""
      />
    </div>

    <!-- TITLE -->
    <div class="field-full field-group" data-field="title">
      <label for="title-input">Title of work</label>
      <input
        id="title-input"
        class="input"
        type="text"
        placeholder=""
      />
    </div>

    <!-- CONTAINER + VOLUME/ISSUE -->
    <div class="input-row">
      <div class="field field-group" data-field="container">
        <label for="container-input">Journal / book / site / source</label>
        <input
          id="container-input"
          class="input"
          type="text"
          placeholder=""
        />
      </div>
      <div class="field field-group" data-field="volIssue">
        <label for="vol-input">Volume (and issue)</label>
        <input
          id="vol-input"
          class="input"
          type="text"
          placeholder=""
        />
      </div>
    </div>

    <!-- PAGES + PUBLISHER -->
    <div class="input-row">
      <div class="field field-group" data-field="pages">
        <label for="pages-input">Page range</label>
        <input
          id="pages-input"
          class="input"
          type="text"
          placeholder=""
        />
      </div>
      <div class="field field-group" data-field="publisher">
        <label for="publisher-input">Publisher / institution</label>
        <input
          id="publisher-input"
          class="input"
          type="text"
          placeholder=""
        />
      </div>
    </div>

    <!-- DOI / URL -->
    <div class="field-full field-group" data-field="doi">
      <label for="doi-input">DOI or URL</label>
      <input
        id="doi-input"
        class="input"
        type="text"
        placeholder=""
      />
    </div>

    <div class="btn-row">
      <button class="btn" id="generate-btn">
        âœ¨ Generate reference
      </button>
      <button class="btn secondary" id="copy-btn" disabled>
        ðŸ“‹ Copy to clipboard
      </button>
    </div>

    <div id="manual-error" class="error" style="display:none;"></div>

    <div style="margin-top:0.8rem;">
      <div class="citation-label">Generated APA 7th reference</div>
      <div id="manual-citation" class="citation-output empty">
        Your formatted reference will appear here.
      </div>
    </div>
  </div>
</section>

      <!-- Semantic Scholar + Crossref -->
      <section class="card">
        <div class="card-inner">
          <div class="card-header">
            <div>
              <div class="card-title">
                Semantic Scholar + Crossref
                <span class="card-title-pill">DOI â€¢ API</span>
              </div>
            </div>
            <div class="pill">Worker Powered</div>
          </div>

          <div class="field-full">
            <label>Search or Paste DOI</label>
            <input id="s2-query" class="input" placeholder="10.1016/S0140-6736(15)00257-3" />
          </div>

          <div class="btn-row">
            <button id="s2-search-btn" class="btn">ðŸ”Ž Search</button>
            <span id="s2-status" class="hint"></span>
          </div>

          <div id="s2-error" class="error" style="display:none;"></div>

          <div id="s2-results" class="results"></div>

          <div class="citation-label">Semantic Scholar + Crossref Reference</div>
          <div id="s2-citation" class="citation-output empty">
            No reference generated yet.
          </div>

          <button id="s2-copy-btn" class="btn secondary" disabled>ðŸ“‹ Copy</button>
        </div>
      </section>
    </section>
  </main>

  <!-- JS App -->
  <script src="app.js"></script>
</body>
</html>
